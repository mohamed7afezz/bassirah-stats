<div class="row">
  <div class="col-xxl-12">
    <div class="row">
      <div class="col-12 m-auto">
        <div class="card">
          <div class="card-body p-0">
            <div class="row align-items-center">
              <div class="d-flex justify-content-center align-items-center">
                <h1 class="main-head text-center p-5 m-0"> Create Approval Cycle </h1>
              </div>
            </div>
          </div> <!-- end card-body-->
        </div>
      </div> <!-- end col-->
    </div> <!-- end row-->
    <div class="row">
      <div class="col-12 m-auto">
        <div class="card">
          <div class="card-body p-5 text-start">
            <div class="row justify-content-center align-items-center">
              <!--------             Approval Cycle                     -------->
              <form name="Approval-Cycle" action="" class="col-12 col-md-8 col-lg-6" *ngIf="showForm"
                (ngSubmit)="onSubmit(form)" #form="ngForm">

                <div class="mb-4">
                  <label for="selectworkflow" class="form-label fs-5"> Choose Workflow</label>
                  <select [(ngModel)]="selectedValueWF" name="selectworkflow" id="selectworkflow"
                    class="form-select-lg form-select" required>
                    <option value="">-- select Workflow --</option>
                    <option value="Add APIs Workflow">Add APIs Workflow</option>
                    <option value="Add Dashboards Workflow">Add Dashboards Workflow</option>
                    <option value="Add Tables Workflow">Add Tables Workflow</option>
                  </select>
                  <!-- Validation message for workflow selection -->
                  <div *ngIf="form.submitted && form.controls['selectworkflow']?.errors?.['required']"
                    class="text-danger">
                    Please select a workflow.
                  </div>
                </div>

                <div *ngIf="selectedValueWF !== ''">
                  <!-- Reviewer Fields -->
                  <div *ngFor="let reviewer of reviewers" class="mb-4">
                    <label [for]="'Add-Reviewer-' + reviewer.id" class="form-label fs-5">
                      {{ reviewer.label }}
                    </label>
                    <select [(ngModel)]="reviewer.selectedReviewer" [name]="'Add-Reviewer-' + reviewer.id"
                      [id]="'Add-Reviewer-' + reviewer.id" class="form-select-lg form-select" required>
                      <option value="">Add Reviewer</option>
                      <option value="Ahmed abd Hamed">Ahmed abd Hamed</option>
                      <option value="Abdurraheem Ahmed">Abdurraheem Ahmed</option>
                      <option value="Khaled Osman">Khaled Osman</option>
                      <option value="Fahed ben Ibarahim">Fahed ben Ibarahim</option>
                      <option value="Ziaad El Mahmoudy">Ziaad El Mahmoudy</option>
                    </select>
                    <!-- Validation message for reviewer selection -->
                    <div *ngIf="form.submitted && !reviewer.selectedReviewer" class="text-danger">
                      Please select a reviewer.
                    </div>
                  </div>

                  <!-- Plus Icon to Add Reviewer -->
                  <div class="mb-4 d-flex justify-content-end">
                    <button [ngClass]="{'disabled': reviewers.length >= 5}" type="button"
                      class="btn rounded-pill btn-outline-primary btn-lg d-flex align-items-center gap-2"
                      (click)="addReviewer()">
                      <i class="las la-plus-circle"></i> Add Reviewer
                    </button>
                    <!-- Rounded Buttons -->
                  </div>

                  <!-- Submit Button -->
                  <div class="text-end">
                    <button type="submit" class="btn w-100 btn-lg btn-primary">
                      Add Approval Cycle
                    </button>
                  </div>
                </div>
              </form>
              <!-- Thank You Message Section -->
              <div *ngIf="showThankYouMessageWF" class="col-12 col-md-8 col-lg-6 thank-you-message">
                <div class="alert alert-success text-center fs-3">
                  Thank You! Your Approval Cycle has been added successfully.
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>